![test-meme](./images/test-meme.png)

ë‹¤ë“¤ ì½”ë”©ì„ ì§„í–‰í•  ë•Œ, ì¤‘ê°„ì¤‘ê°„ ì˜ ì‹¤í–‰ë˜ëŠ”ì§€ í™•ì¸í•´ë³¸ ê²½í—˜ì´ ìˆì„ ê²ƒì¸ë°,

ì´ëŸ° ê²½ìš° ì–´ë–»ê²Œ í™•ì¸í•˜ê³  ë„˜ì–´ê°€ëŠ” í¸ì¸ê°€?

ë‚˜ëŠ”.. ì¤‘ê°„ì¤‘ê°„ `console.log`ë¥¼ ë¼ì›Œë„£ì–´ì„œ, ì½˜ì†”ì°½ì—ì„œ í™•ì¸í•˜ëŠ” ë°©ë²•ì„ ë§ì´ í™œìš©í–ˆë‹¤.  
ì‚¬ì‹¤ ì´ê²Œ ê·¸ë‹¤ì§€ ì¢‹ì€ ë°©ë²•ì€ ì•„ë‹ˆë¼ëŠ”ê±¸ ì“°ë©´ì„œë„ ëŠê¼ˆì§€ë§Œ, ì´ê²ƒ ë§ê³ ëŠ” ì˜ ëª¨ë¥´ê² ì–´ì„œ í™•ì¸ì´ í•„ìš”í• ë•Œë§ˆë‹¤ `console.log`ë¥¼ ì¶”ê°€í•˜ê³ , í™•ì¸í•˜ë©´ ë‹¤ì‹œ ì§€ìš°ê³ .. ì´ëŸ° ê³¼ì •ì„ ë°˜ë³µí•œ ê¸°ì–µì´ ìˆë‹¤.  
ê°€ë” ê¹Œë¨¹ê³  `console.log`ë¥¼ ì‚­ì œí•˜ì§€ ì•Šê¸°ë„ í•´ì„œ, ì–´ì©Œë‹¤ ì½˜ì†”ì„ ë³´ë©´ ëª‡ ê¸€ìë“¤ì´ ë¹¼ê¼¼ í•˜ê³ ìˆëŠ” ê²½í—˜ë„ ìˆë‹¤.

ë”°ë¼ì„œ, ì´ë²ˆ ê¸°íšŒì— í…ŒìŠ¤íŠ¸ì— ëŒ€í•´ì„œ ì¢€ ì•Œì•„ë³´ë©°, **í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±ë²•, í…ŒìŠ¤íŠ¸ ì§„í–‰ ë°©ë²• ë° TDD ë°©ë²•ë¡ **ì´ ë¬´ì—‡ì¸ì§€ë„ ì¢€ ì•Œì•„ë³´ê²Œ ë˜ì—ˆë‹¤.

## ğŸ“í…ŒìŠ¤íŠ¸ì˜ ì¢…ë¥˜

![](https://velog.velcdn.com/images/yjw3480/post/04ffef75-d360-4eb3-b8fa-0fdfc6b15ea0/image.png)
(ì˜ˆì „ì— ì •ì²˜ê¸° ê³µë¶€í•  ë•Œ ë©”ëª¨í•´ë’€ë˜ Vëª¨ë¸ì˜ íë¦„ ë° í…ŒìŠ¤íŠ¸ ì¢…ë¥˜...ã…‹ã…‹)

### 1. Unit Test (ë‹¨ìœ„ í…ŒìŠ¤íŠ¸)

ì „ì²´ ì½”ë“œ ì¤‘ **ê°€ì¥ ì‘ì€ ë‹¨ìœ„**(í•¨ìˆ˜ ë˜ëŠ” React ì»´í¬ë„ŒíŠ¸ ë“±)ë¥¼ í…ŒìŠ¤íŠ¸í•˜ëŠ” ê²ƒ.

ì™¸ë¶€ ì˜ì¡´ì„±ì„ ì œê±°í•˜ê³ , í…ŒìŠ¤íŠ¸í•˜ê³ ì í•˜ëŠ” ìœ ë‹›(í•¨ìˆ˜ë‚˜ ì»´í¬ë„ŒíŠ¸)ë§Œ ë…ë¦½ì ìœ¼ë¡œ ì‹¤í–‰.

> í•˜ë‚˜ì˜ í•¨ìˆ˜, í•˜ë‚˜ì˜ í´ë˜ìŠ¤, í•˜ë‚˜ì˜ ì»´í¬ë„ŒíŠ¸  
> í…ŒìŠ¤íŠ¸ ëŒ€ìƒ ì™¸ì˜ ìš”ì†Œ(DB, API ë“±)ëŠ” Mock ì²˜ë¦¬

### 2. Integration Test (í†µí•© í…ŒìŠ¤íŠ¸)

**ë‘ ê°œ ì´ìƒì˜ ìœ ë‹›**ì´ í•¨ê»˜ ì‘ë™í•˜ëŠ” ë°©ì‹ì„ í…ŒìŠ¤íŠ¸í•˜ëŠ” ê²ƒ.

ì˜ˆ: Form ì»´í¬ë„ŒíŠ¸ì™€ SubmitButton ì»´í¬ë„ŒíŠ¸ê°€ í•¨ê»˜ ì‘ë™í•  ë•Œ ì œì¶œì´ ì˜ ë˜ëŠ”ì§€ í™•ì¸.

> ìœ ë‹› ê°„ ìƒí˜¸ì‘ìš© í™•ì¸
> ì‹¤ì œ ì„œë¹„ìŠ¤ê¹Œì§€ ì—°ê²°í•˜ì§€ ì•Šê³ , ìœ ë‹›ë“¤ ê°„ ì—°ê²°ì„±ì„ í™•ì¸

### 3. System Test (ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸)

ì• í”Œë¦¬ì¼€ì´ì…˜ì´ **ì™„ì „í•œ ì‹œìŠ¤í…œ**ìœ¼ë¡œ ì‘ë™í•˜ëŠ”ì§€ í…ŒìŠ¤íŠ¸í•˜ëŠ” ê²ƒ.

ì‹¤ì œ ì‚¬ìš©ì í”Œë¡œìš°ì²˜ëŸ¼ ë™ì‘: ë°ì´í„°ë¥¼ í¼ì— ì…ë ¥í•˜ê³ , ì œì¶œ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ DBì— ì €ì¥ë˜ëŠ” ì „ì²´ íë¦„ì„ í…ŒìŠ¤íŠ¸í•œë‹¤.

ì˜ˆ: í”„ë¡œê·¸ë¨ì— íŠ¹ì • ì…ë ¥ì„ ì£¼ê³  ì „ì²´ ì†Œí”„íŠ¸ì›¨ì–´ê°€ ì˜ë„í•œ ê²°ê³¼ë¥¼ ë‚´ëŠ”ì§€ í™•ì¸.

> ìœ ì €ì˜ ê´€ì ì—ì„œ ì „ì²´ ê¸°ëŠ¥ì´ ì •ìƒ ì‘ë™í•˜ëŠ”ì§€  
> ìœ ë‹› ë˜ëŠ” ëª¨ë“ˆ ìˆ˜ì¤€ì´ ì•„ë‹ˆë¼, ì „ì²´ ì•± ìˆ˜ì¤€ì—ì„œ ë™ì‘ í™•ì¸

### 4. Acceptance / E2E (End-to-End) Test (ì¸ìˆ˜ / ì¢…ë‹¨ ê°„ í…ŒìŠ¤íŠ¸)

ì‹¤ì œ ì‚¬ìš©ì ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ë¸Œë¼ìš°ì € í™˜ê²½ì—ì„œ **ì²˜ìŒë¶€í„° ëê¹Œì§€ í…ŒìŠ¤íŠ¸**í•˜ëŠ” ê²ƒ.

í”„ë¡ íŠ¸ì—”ë“œ, ë°±ì—”ë“œ, DB ë“± ì „ì²´ ì¸í”„ë¼ê°€ ì‹¤ì œë¡œ ì‘ë™í•˜ëŠ” í™˜ê²½ì—ì„œ í…ŒìŠ¤íŠ¸í•œë‹¤.

> êµ¬ë§¤ â†’ ê²°ì œ â†’ ì™„ë£Œ í˜ì´ì§€ ì´ë™ì²˜ëŸ¼ ì‹¤ì œ ì‚¬ìš©ì í–‰ë™ íë¦„ ì „ì²´ë¥¼ ê²€ì¦  
> UI ë Œë”ë§, API ìš”ì²­/ì‘ë‹µ, DB ë°˜ì˜ ë“± í¬í•¨

## ğŸ“ í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±ë²•

ì˜ˆë¥¼ ë“¤ì–´, ì¹´ìš´í„° ì»´í¬ë„ŒíŠ¸ì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•œë‹¤ê³  í•˜ì.
ì´ ë•Œ ìš°ë¦¬ëŠ” ëª‡ê°€ì§€ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë“¤ì„ ì‘ì„±í•´ì•¼ í•œë‹¤.

### describe()

í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë“¤ì„ ê·¸ë£¹ìœ¼ë¡œ ë¬¶ì–´ì£¼ëŠ” í•¨ìˆ˜ì´ë‹¤.
ê´€ë ¨ëœ í…ŒìŠ¤íŠ¸ë“¤ì„ í•œë° ëª¨ì•„ í…ŒìŠ¤íŠ¸ ë³´ê³ ì„œì—ì„œ ë³´ê¸° ì‰½ê²Œ í•´ì£¼ë©°, í…ŒìŠ¤íŠ¸ êµ¬ì¡°ë¥¼ ëª…í™•íˆ í‘œí˜„í•  ìˆ˜ ìˆë‹¤.

```js
describe("Counter ì»´í¬ë„ŒíŠ¸ ë™ì‘", () => {
  test("ì´ˆê¸°ê°’ì€ 0ì´ë‹¤.", () => {
    /*...*/
  });
  test("+ ë²„íŠ¼ í´ë¦­ ì‹œ ì¹´ìš´íŠ¸ê°€ 1 ëŠ˜ì–´ë‚œë‹¤.", () => {
    /*...*/
  });
});
```

### test()

ì‹¤ì œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì •ì˜í•˜ëŠ” í•¨ìˆ˜

```js
test("ì´ˆê¸°ê°’ì€ 0ì´ë‹¤", () => {
  render(<Counter />);
  expect(screen.getByText("Count: 0")).toBeInTheDocument();
});
```

### render()

ì»´í¬ë„ŒíŠ¸ë¥¼ í…ŒìŠ¤íŠ¸ í™˜ê²½ì— ë Œë”ë§
`render()`ë¥¼ í˜¸ì¶œí•´ì•¼ ì»´í¬ë„ŒíŠ¸ê°€ ê°€ìƒ DOMì— ì˜¬ë¼ê°€ê³ , ê·¸ í›„ì— `screen`ì„ í†µí•´ ìš”ì†Œë¥¼ ì°¾ê±°ë‚˜ ìƒí˜¸ì‘ìš©í•  ìˆ˜ ìˆë‹¤.
ë‚´ë¶€ì ìœ¼ë¡œ jsdom í™˜ê²½ì„ ê¸°ë°˜ìœ¼ë¡œ ì‘ë™í•œë‹¤. (ë¸Œë¼ìš°ì €ì²˜ëŸ¼ ì‘ë™í•˜ëŠ” í…ŒìŠ¤íŠ¸ í™˜ê²½).

```js
render(<Counter />);
```

### screen

`render()`ë¡œ ë Œë”ë§ëœ ê°€ìƒ DOMì—ì„œ íŠ¹ì • ìš”ì†Œë¥¼ ì°¾ê¸° ìœ„í•œ ë„êµ¬

`getByText`, `getByRole`, `getByTestId` ë“± ë‹¤ì–‘í•œ ì¿¼ë¦¬ í•¨ìˆ˜ë“¤ì„ ì œê³µ

| í•¨ìˆ˜             | ì„¤ëª…                                       |
| ---------------- | ------------------------------------------ |
| getByText()      | í…ìŠ¤íŠ¸ë¡œ ìš”ì†Œ ì°¾ê¸° (ì •í™•íˆ ì¼ì¹˜)           |
| getByRole()      | ì ‘ê·¼ì„± ì—­í• (Role)ë¡œ ì°¾ê¸° (button, list ë“±) |
| getByLabelText() | `<label>`ë¡œ ì—°ê²°ëœ ì…ë ¥ ìš”ì†Œ ì°¾ê¸°          |
| getByTestId()    | data-testid ì†ì„±ìœ¼ë¡œ ì°¾ê¸°                  |

```js
screen.getByText("Count: 0");
```

### userEvent

ì‹¤ì œ ì‚¬ìš©ìì²˜ëŸ¼ í´ë¦­, ì…ë ¥ ë“±ì˜ ì´ë²¤íŠ¸ë¥¼ ì‹œë®¬ë ˆì´ì…˜

ë¹„ë™ê¸° ë™ì‘ì„ í¬í•¨í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— awaitì™€ í•¨ê»˜ ì‚¬ìš©í•´ì•¼ í•  ë•Œê°€ ë§ìŒ

`userEvent.setup()`ë¡œ userEvent ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“  ë’¤, ë©”ì„œë“œë¥¼ í†µí•´ ì‚¬ìš©

#### userEvent ì¸ìŠ¤í„´ìŠ¤ì˜ ë©”ì„œë“œ ì¢…ë¥˜

| ë©”ì„œë“œ                            | ì„¤ëª…                              | ê°„ë‹¨ ì˜ˆì‹œ                                        |
| --------------------------------- | --------------------------------- | ------------------------------------------------ |
| `click(element)`                  | í´ë¦­ (ë§ˆìš°ìŠ¤ ì™¼ìª½ ë²„íŠ¼)           | `await user.click(button);`                      |
| `dblClick(element)`               | ë”ë¸” í´ë¦­                         | `await user.dblClick(button);`                   |
| `type(element, text)`             | í…ìŠ¤íŠ¸ ì…ë ¥ (í•œ ê¸€ìì”© íƒ€ì´í•‘)    | `await user.type(input, 'hello');`               |
| `clear(element)`                  | ì…ë ¥ í•„ë“œ ë‚´ìš© ì§€ìš°ê¸°             | `await user.clear(input);`                       |
| `hover(element)`                  | ë§ˆìš°ìŠ¤ ì˜¤ë²„ (hover) ì´ë²¤íŠ¸ ë°œìƒ   | `await user.hover(menuItem);`                    |
| `unhover(element)`                | ë§ˆìš°ìŠ¤ í¬ì¸í„° ë–¼ê¸°                | `await user.unhover(menuItem);`                  |
| `tab()`                           | íƒ­ í‚¤ ëˆ„ë¥´ê¸° (í¬ì»¤ìŠ¤ ì´ë™)        | `await user.tab();`                              |
| `keyboard(text)`                  | í‚¤ë³´ë“œ ì…ë ¥ (íŠ¹ìˆ˜í‚¤ í¬í•¨ ê°€ëŠ¥)    | `await user.keyboard('{Enter}');`                |
| `selectOptions(element, options)` | `<select>`ì—ì„œ ì˜µì…˜ ì„ íƒ          | `await user.selectOptions(select, ['option1']);` |
| `upload(element, files)`          | íŒŒì¼ ì—…ë¡œë“œ (input\[type="file"]) | `await user.upload(fileInput, file);`            |

```js
const user = userEvent.setup();
await user.click(button);
```

### expect

ì‹¤ì œë¡œ ê¸°ëŒ€í•˜ëŠ” ê²°ê³¼ë¥¼ ì„ ì–¸í•˜ëŠ” í•¨ìˆ˜
í…ŒìŠ¤íŠ¸ ëŒ€ìƒ í•¨ìˆ˜ì˜ ë°˜í™˜ê°’ì´ë‚˜ ìƒíƒœê°€ ìš°ë¦¬ê°€ ì˜ˆìƒí•œ ëŒ€ë¡œ ë‚˜ì˜¤ëŠ”ì§€ ë¹„êµ ë° ê²€ì¦

```js
expect(ì‹¤ì œê°’).matcher(ê¸°ëŒ€ê°’);
```

#### ë§¤ì²˜(Matcher)ì˜ ì¢…ë¥˜

- .toBe() : ê¸°ë³¸ ìë£Œí˜•(ìˆ«ì, ë¬¸ìì—´) ê°’ì´ ì •í™•íˆ ê°™ì€ì§€
- .toEqual() : ê°ì²´ë‚˜ ë°°ì—´ì˜ ê°’ì´ ê°™ì€ì§€
- .toThrow() : í•¨ìˆ˜ê°€ ì˜ˆì™¸ë¥¼ ë˜ì§€ëŠ”ì§€
- .toHaveTextContent('Hello') : íŠ¹ì • í…ìŠ¤íŠ¸ê°€ í¬í•¨ë˜ì–´ ìˆëŠ”ì§€
- .toHaveAttribute('type', 'button') : íŠ¹ì • ì†ì„± ê°’ì„ ê°€ì§€ê³  ìˆëŠ”ì§€
- .toHaveClass('active') : íŠ¹ì • í´ë˜ìŠ¤ë¥¼ ê°€ì§€ê³  ìˆëŠ”ì§€
- .toBeInTheDocument() : DOMì— ìš”ì†Œê°€ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸
  (â†’ @testing-library/jest-domì—ì„œ ì œê³µ)

```js
expect(button).toHaveTextContent("Click me");
expect(input).toHaveAttribute("placeholder", "ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”");
```

### ğŸ™†â€â™‚ï¸ ì˜ˆì‹œ ì½”ë“œ

ë§Œì•½ ì¹´ìš´í„° ì»´í¬ë„ŒíŠ¸ì˜ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•œë‹¤ê³  í–ˆì„ ë•Œ ì‘ì„±í•  ìˆ˜ ìˆëŠ” í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì²¨ë¶€í•˜ê² ë‹¤.

```ts
import { render, screen } from "@testing-library/react";
import userEvent from "@testing-library/user-event";
import Counter from "./Counter";

describe("Counter ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸", () => {
  test("ì´ˆê¸°ê°’ì€ 0ì´ë‹¤", () => {
    render(<Counter />);
    expect(screen.getByText("Count: 0")).toBeInTheDocument();
  });

  test("Increase ë²„íŠ¼ í´ë¦­ ì‹œ ì¹´ìš´íŠ¸ê°€ 1 ì¦ê°€í•œë‹¤", async () => {
    render(<Counter />);
    const user = userEvent.setup();

    const increaseBtn = screen.getByRole("button", { name: /increase/i });
    await user.click(increaseBtn);

    expect(screen.getByText("Count: 1")).toBeInTheDocument();
  });

  test("Decrease ë²„íŠ¼ í´ë¦­ ì‹œ ì¹´ìš´íŠ¸ê°€ 1 ê°ì†Œí•œë‹¤", async () => {
    render(<Counter />);
    const user = userEvent.setup();

    const decreaseBtn = screen.getByRole("button", { name: /decrease/i });
    await user.click(decreaseBtn);

    expect(screen.getByText("Count: -1")).toBeInTheDocument();
  });
});
```

## í…ŒìŠ¤íŠ¸ ì§„í–‰í•˜ê¸°

í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•˜ëŠ” ë°©ë²•ì—ëŠ” í¬ê²Œ ë‘ ê°€ì§€ ì£¼ìš” ë„êµ¬(**Jest, Vitest**)ê°€ ìˆë‹¤.

### Jestë¡œ í…ŒìŠ¤íŠ¸ ì§„í–‰

ìš°ì„  í”„ë¡œì íŠ¸ì— Jestë¥¼ ì„¤ì¹˜í•œë‹¤.
`npm install -D jest`

React í”„ë¡œì íŠ¸ë¼ë©´ Testing Libraryë„ í•¨ê»˜ ì„¤ì¹˜í•œë‹¤.
`npm install -D @testing-library/react @testing-library/jest-dom`

ì´í›„, jest.config.js íŒŒì¼ì„ ë§Œë“¤ê³  ì•„ë˜ì™€ ê°™ì´ ì‘ì„±í•œë‹¤.

```
module.exports = {
  testEnvironment: "jsdom", // ë¸Œë¼ìš°ì € í™˜ê²½ì—ì„œ í…ŒìŠ¤íŠ¸
  setupFilesAfterEnv: ["<rootDir>/src/setupTests.ts"] // í…ŒìŠ¤íŠ¸ ì „ ì„¤ì • íŒŒì¼ ê²½ë¡œ
};
```

ë‹¤ìŒìœ¼ë¡œ, setupTests.ts íŒŒì¼ì„ ì•„ë˜ì²˜ëŸ¼ ì¶”ê°€í•œë‹¤.

```ts
import "@testing-library/jest-dom";
```

ì´í›„ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•  ì»´í¬ë„ŒíŠ¸ì™€ í…ŒìŠ¤íŠ¸ì½”ë“œë¥¼ ì‘ì„±í•˜ê³  í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•œë‹¤.

`npm test` : í”„ë¡œì íŠ¸ ë£¨íŠ¸ì—ì„œ í…ŒìŠ¤íŠ¸ íŒŒì¼(_.test.ts, _.spec.js ë“±)ì„ ì°¾ì•„ì„œ ì‹¤í–‰í•˜ë©° í•œë²ˆë§Œ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ í›„ ì¢…ë£Œëœë‹¤.

`npm test -- --watch` : ì½”ë“œ ë³€ê²½ ì‹œ ìë™ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ë¥¼ ë‹¤ì‹œ ì‹¤í–‰í•œë‹¤.

### Vitestë¡œ í…ŒìŠ¤íŠ¸ ì§„í–‰

ìš°ì„  í”„ë¡œì íŠ¸ì— Vitestë¥¼ ì„¤ì¹˜í•œë‹¤.  
`npm install -D vitest`

React í”„ë¡œì íŠ¸ë¼ë©´ Testing Libraryë„ í•¨ê»˜ ì„¤ì¹˜í•œë‹¤.  
`npm install -D @testing-library/react @testing-library/jest-dom`

ì´í›„, vite.config.ts í˜¹ì€ vite.config.jsì— ì•„ë˜ì²˜ëŸ¼ ì¶”ê°€í•œë‹¤.

```ts
import { defineConfig } from "vitest/config";
import react from "@vitejs/plugin-react";

export default defineConfig({
  plugins: [react()],
  test: {
    globals: true, // describe, test, expectë¥¼ ì „ì—­ìœ¼ë¡œ ì“°ê¸° ìœ„í•¨
    environment: "jsdom", // ë¸Œë¼ìš°ì € í™˜ê²½ì—ì„œ í…ŒìŠ¤íŠ¸
    setupFiles: "./src/setupTests.ts", // í…ŒìŠ¤íŠ¸ ì „ ì„¤ì • íŒŒì¼ ê²½ë¡œ
  },
});
```

ë‹¤ìŒìœ¼ë¡œ, setupTests.ts íŒŒì¼ì„ ì•„ë˜ì²˜ëŸ¼ ì¶”ê°€í•œë‹¤.

```ts
import "@testing-library/jest-dom";
```

ì´í›„ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•  ì»´í¬ë„ŒíŠ¸ì™€ í…ŒìŠ¤íŠ¸ì½”ë“œë¥¼ ì‘ì„±í•˜ê³  í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•œë‹¤.

`npx vitest` : í”„ë¡œì íŠ¸ ë£¨íŠ¸ì—ì„œ í…ŒìŠ¤íŠ¸ íŒŒì¼(_.test.ts, _.spec.js ë“±)ì„ ì°¾ì•„ì„œ ì‹¤í–‰í•˜ë©°, ë³€ê²½ëœ íŒŒì¼ì„ ê°ì§€í•´ì„œ ìë™ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ë¥¼ ì¬ì‹¤í–‰í•œë‹¤.

`npx vitest --run` : í•œë²ˆë§Œ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ í›„ ì¢…ë£Œ

`npx vitest --ui` : ì•„ë˜ì²˜ëŸ¼ ë¸Œë¼ìš°ì €ì—ì„œ ë³¼ ìˆ˜ ìˆëŠ” í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ê²°ê³¼ í™”ë©´ì„ ë„ì›Œì¤Œ
![vitest ui](./images/vitest-ui.png)

## ğŸ“TDD (Test Driven Development)

### TDDê°€ ë¬´ì—‡ì¸ê°€

ì½”ë“œë¥¼ ë¨¼ì € ì‘ì„±í•˜ê¸° ì „ì—, **í…ŒìŠ¤íŠ¸ë¥¼ ë¯¸ë¦¬ ì‘ì„±**í•œ ë’¤, ê·¸ì— ë§ê²Œ ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ” ê²ƒì´ë‹¤.

### TDDì˜ 3ë‹¨ê³„ ì‚¬ì´í´

![TDD](./images/tdd.png)

#### 1. Red ğŸ”´ (ì‹¤íŒ¨í•˜ëŠ” í…ŒìŠ¤íŠ¸ ì‘ì„±)

ë¨¼ì € ìš”êµ¬ì‚¬í•­ì— ë§ëŠ” í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•œë‹¤.
ì•„ì§ ì‹¤ì œ êµ¬í˜„ì´ ì—†ê¸° ë•Œë¬¸ì— ë‹¹ì—°íˆ í…ŒìŠ¤íŠ¸ëŠ” **ì‹¤íŒ¨(Red)**í•˜ê²Œ ëœë‹¤.

#### 2. Green ğŸŸ¢ (í…ŒìŠ¤íŠ¸ í†µê³¼ë¥¼ ìœ„í•œ ì½”ë“œ ì‘ì„±)

í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼í•  ìˆ˜ ìˆë„ë¡ **ìµœì†Œí•œì˜ ì½”ë“œ**ë¥¼ ì‘ì„±í•œë‹¤.
ì´ ë‹¨ê³„ì—ì„œëŠ” ê¸°ëŠ¥ êµ¬í˜„ë³´ë‹¤ëŠ” í…ŒìŠ¤íŠ¸ í†µê³¼ê°€ ëª©í‘œ

#### 3. Refactor â™»ï¸ (ë¦¬íŒ©í† ë§)

í…ŒìŠ¤íŠ¸ê°€ í†µê³¼í•œ ìƒíƒœë¥¼ ìœ ì§€í•˜ë©´ì„œ ì½”ë“œë¥¼ ì •ë¦¬í•œë‹¤.
ì´ ê³¼ì •ì—ì„œ ì¤‘ë³µ ì œê±°, ê°€ë…ì„± í–¥ìƒ, êµ¬ì¡° ê°œì„  ë“±ì´ ì§„í–‰ëœë‹¤.

### TDDì™€ ê¸°ì¡´ ê°œë°œ ë°©ì‹ê³¼ì˜ ì°¨ì´

#### 1. ì¼ë°˜ì ì¸ ê°œë°œ ë°©ì‹

- **ìš”êµ¬ì‚¬í•­ ë¶„ì„ - ì„¤ê³„ - ê°œë°œ - í…ŒìŠ¤íŠ¸ - ë°°í¬** ìˆœìœ¼ë¡œ ì´ë£¨ì–´ì§„ë‹¤.
- í—ˆë‚˜, ìœ„ì˜ ê²½ìš° ì´ˆê¸°ì— ì™„ë²½í•œ ì„¤ê³„ë¥¼ í•˜ê¸° í˜ë“¤ë‹¤. ë”°ë¼ì„œ, ê°œë°œ ê³¼ì •ì—ì„œ ì ì¬ì ì¸ ë²„ê·¸ë‚˜ ì¶”ê°€ ìš”êµ¬ì‚¬í•­ìœ¼ë¡œ ì¸í•œ **ì¬ì„¤ê³„**ë¥¼ ì§„í–‰í•œë‹¤.
- ì´ ê³¼ì •ì—ì„œ **ë¶ˆí•„ìš”í•œ ì½”ë“œ**ê°€ ì¶”ê°€ë  ìˆ˜ ìˆë‹¤.
- ì´ëŠ” ì¶”í›„ì— ì½”ë“œ ê´€ë¦¬ë¥¼ ì–´ë µê²Œ í•˜ë©°, ìœ ì§€ë³´ìˆ˜ì—ë„ ë¬¸ì œê°€ ìƒê¸¸ ìˆ˜ ìˆë‹¤.
- ë˜í•œ, ì‚¬ì†Œí•œ ì½”ë“œ ìˆ˜ì •ì—ë„ ëª¨ë“  ë¶€ë¶„ì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•´ì•¼ í•˜ë¯€ë¡œ, ë²„ê·¸ì˜ ì›ì¸ì„ ì°¾ê¸° í˜ë“¤ë‹¤.

#### 2. TDD ê°œë°œ ë°©ì‹

- TDD(Test-Driven Development)ëŠ” ìš”êµ¬ì‚¬í•­ì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ë¨¼ì € ì‘ì„±í•œ ë’¤, í•´ë‹¹ í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼í•  ìˆ˜ ìˆë„ë¡ ì‹¤ì œ ê°œë°œ ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì§„í–‰ëœë‹¤.
- ê°œë°œ ìˆœì„œëŠ” ë°˜ë³µë˜ëŠ” **ì„¸ ë‹¨ê³„ ì‚¬ì´í´**(Red-Green-Refactor) ë¡œ êµ¬ì„±ëœë‹¤.
- ì´ëŸ¬í•œ ìˆœí™˜ì ì¸ ê°œë°œ ë°©ì‹ì€ ì½”ë“œ í’ˆì§ˆì„ ë†’ì´ê³ , í…ŒìŠ¤íŠ¸ ê°€ëŠ¥í•œ ì‘ê³  ëª…í™•í•œ ë‹¨ìœ„ë¡œ ê¸°ëŠ¥ì„ ìª¼ê°œë„ë¡ ìœ ë„í•œë‹¤.
- ë˜í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” ìš”êµ¬ì‚¬í•­ì˜ ëª…ì„¸ì„œ ì—­í• ì„ í•˜ë©°, íŒ€ì› ê°„ ì˜ì‚¬ì†Œí†µ ë„êµ¬ë¡œë„ í™œìš©ë  ìˆ˜ ìˆë‹¤.

### TDDë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ 

TDDì—ì„œëŠ” ì²˜ìŒì— ì‹¤íŒ¨í•˜ëŠ” í…ŒìŠ¤íŠ¸ë¥¼ ë¨¼ì € ì‘ì„±í•œ ë’¤ì— ê¸°ëŠ¥ì„ êµ¬í˜„í•œë‹¤. ì´ ê³¼ì •ì—ì„œ ë¬´ì—‡ì„ ì–»ì„ ìˆ˜ ìˆì„ê¹Œ?

#### 1. ë²„ê·¸ ì˜ˆë°©ê³¼ ë¹ ë¥¸ ë°œê²¬

í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ë¨¼ì € ì‘ì„±í•˜ë¯€ë¡œ ê°œë°œìëŠ” ìš”êµ¬ì‚¬í•­ì„ ë”ìš± ëª…í™•íˆ ì´í•´í•˜ê²Œ ë˜ê³ , ì‹¤ìˆ˜í•˜ê±°ë‚˜ ëˆ„ë½í•˜ëŠ” ë¶€ë¶„ì´ ì¤„ì–´ë“ ë‹¤.

ë˜í•œ, í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨ê°€ ë°”ë¡œ ëˆˆì— ë³´ì´ê¸° ë•Œë¬¸ì— ë²„ê·¸ë¥¼ ì´ˆê¸° ë‹¨ê³„ì—ì„œ ë¹ ë¥´ê²Œ ë°œê²¬í•˜ê³  ìˆ˜ì •í•  ìˆ˜ ìˆë‹¤.

#### 2. ì„¤ê³„ í’ˆì§ˆ í–¥ìƒ

í…ŒìŠ¤íŠ¸ë¥¼ ë¨¼ì € ë§Œë“¤ë ¤ë©´ ê¸°ëŠ¥ì„ ì‘ê³  ë‹¨ìˆœí•˜ê²Œ ë‚˜ëˆ ì•¼ í•˜ë¯€ë¡œ ìì—°ìŠ¤ëŸ½ê²Œ **ëª¨ë“ˆí™”**ì™€ **SRP**(Single Responsibility Principle, ë‹¨ì¼ ì±…ì„ ì›ì¹™)ê°€ ì§€ì¼œì§€ê²Œ ë˜ì–´, ìœ ì§€ë³´ìˆ˜ê°€ ì‰¬ìš´ êµ¬ì¡°ë¡œ ì½”ë“œê°€ ì‘ì„±ëœë‹¤.

#### 3. ë¦¬íŒ©í„°ë§ì˜ ì•ˆì „ì„±

ê¸°ëŠ¥ êµ¬í˜„ í›„ì—ë„ í…ŒìŠ¤íŠ¸ê°€ ì´ë¯¸ ì¡´ì¬í•˜ë¯€ë¡œ, ì¶”í›„ ë¦¬íŒ©í„°ë§ ì‹œ ê¸°ì¡´ ë™ì‘ì´ ìœ ì§€ë˜ëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

#### 4. ë¬¸ì„œ ì—­í• ì„ í•˜ëŠ” í…ŒìŠ¤íŠ¸ ì½”ë“œ

í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” ì¼ì¢…ì˜ ì‹¤í–‰ ê°€ëŠ¥í•œ ìš”êµ¬ì‚¬í•­ ëª…ì„¸ì„œë¡œë„ ë³¼ ìˆ˜ ìˆë‹¤.

ë‹¤ë¥¸ ê°œë°œìë„ í…ŒìŠ¤íŠ¸ë¥¼ ì½ìœ¼ë©´ ì–´ë–¤ ê¸°ëŠ¥ì´ ì–´ë–¤ ìƒí™©ì—ì„œ ì–´ë–»ê²Œ ë™ì‘í•´ì•¼ í•˜ëŠ”ì§€ ì‰½ê²Œ ì´í•´í•  ìˆ˜ ìˆë‹¤.

## ğŸ“TDD ë°©ë²•ë¡  ì‹¤ì œ ì‚¬ìš© ì˜ˆì‹œ

ê°„ë‹¨í•˜ê²Œ, ë‚˜ëˆ—ì…ˆì„ ê³„ì‚°í•´ì£¼ëŠ” `divide` í•¨ìˆ˜ë¥¼ `divide.ts` íŒŒì¼ ë‚´ì— êµ¬í˜„í•œë‹¤ê³  í•´ë³´ì.

### ğŸ”´ Red (ì‹¤íŒ¨í•˜ëŠ” í…ŒìŠ¤íŠ¸ ì‘ì„±)

ë‚˜ëˆ—ì…ˆì„ ê³„ì‚°í•´ì¤„ `divide.ts` íŒŒì¼ì„ êµ¬í˜„í•˜ê¸° ì „ì—, í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ë¨¼ì € ì‘ì„±í•œë‹¤.

ì˜¬ë°”ë¥¸ ë™ì‘ì„ í•˜ëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•œ í…ŒìŠ¤íŠ¸ì¼€ì´ìŠ¤ ë° ì—ëŸ¬ ì²˜ë¦¬ë¥¼ í™•ì¸í•˜ê¸° ìœ„í•œ í…ŒìŠ¤íŠ¸ì¼€ì´ìŠ¤ ì‘ì„±

`divide.test.ts`

```ts
import { divide } from "../divide";

describe("divide í•¨ìˆ˜ ë™ì‘", () => {
  test("10 Ã· 2ëŠ” 5ë¥¼ ë°˜í™˜í•´ì•¼ í•œë‹¤", () => {
    expect(divide(10, 2)).toBe(5);
  });

  test("9 Ã· 3ì€ 3ì„ ë°˜í™˜í•´ì•¼ í•œë‹¤", () => {
    expect(divide(9, 3)).toBe(3);
  });
});

describe("divide í•¨ìˆ˜ ì—ëŸ¬ì²˜ë¦¬", () => {
  test("0ìœ¼ë¡œ ë‚˜ëˆ„ë©´ ì—ëŸ¬ë¥¼ ë˜ì ¸ì•¼ í•œë‹¤", () => {
    expect(() => divide(10, 0)).toThrow("0ìœ¼ë¡œ ë‚˜ëˆŒ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
  });

  test("ìˆ«ìê°€ ì•„ë‹Œ ê°’ì´ ë“¤ì–´ì˜¤ë©´ ì—ëŸ¬ë¥¼ ë˜ì ¸ì•¼ í•œë‹¤", () => {
    // @ts-expect-error
    expect(() => divide("10", 2)).toThrow("ìˆ«ìë§Œ ì…ë ¥ ê°€ëŠ¥í•©ë‹ˆë‹¤.");
  });
});
```

### ğŸŸ¢ Green (í…ŒìŠ¤íŠ¸ í†µê³¼ë¥¼ ìœ„í•œ ì½”ë“œ ì‘ì„±)

ì´í›„, ê° í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼í•  ìˆ˜ ìˆë„ë¡ divide í•¨ìˆ˜ë¥¼ ì‘ì„±

`divide.ts`

```ts
export function divide(a: number, b: number): number {
  if (typeof a !== "number" || typeof b !== "number") {
    throw new Error("ìˆ«ìë§Œ ì…ë ¥ ê°€ëŠ¥í•©ë‹ˆë‹¤.");
  }

  if (b === 0) {
    throw new Error("0ìœ¼ë¡œ ë‚˜ëˆŒ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
  }

  return a / b;
}
```

### â™»ï¸ Refactor (ë¦¬íŒ©í† ë§)

ì´í›„ ì½”ë“œë¥¼ ë¦¬íŒ©í† ë§í•œë‹¤.

ì—¬ê¸°ì„œëŠ” ì—ëŸ¬ ë©”ì‹œì§€ë¥¼ ìƒìˆ˜ë¡œ ë¶„ë¦¬í•˜ì—¬ ë¦¬íŒ©í† ë§í•´ë´¤ë‹¤.

`divide.ts`

```ts
const ERROR_MESSAGES = {
  NOT_A_NUMBER: "ìˆ«ìë§Œ ì…ë ¥ ê°€ëŠ¥í•©ë‹ˆë‹¤.",
  DIVIDE_BY_ZERO: "0ìœ¼ë¡œ ë‚˜ëˆŒ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.",
};

export function divide(a: number, b: number): number {
  if (typeof a !== "number" || typeof b !== "number") {
    throw new Error(ERROR_MESSAGES.NOT_A_NUMBER);
  }

  if (b === 0) {
    throw new Error(ERROR_MESSAGES.DIVIDE_BY_ZERO);
  }

  return a / b;
}
```

ì´í›„ ë‹¤ìŒ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê¸° ìœ„í•´ ë°©ê¸ˆê³¼ ê°™ì€ ê³¼ì •ì„ ë°˜ë³µí•œë‹¤.

## ğŸ ë§ˆì¹˜ë©°

> ì‘ë™í•˜ì§€ ì•ŠëŠ” ì½”ë“œë¥¼ ì‘ì„±í•œ ì‚¬ëŒì„ ì‹ ë¢°í•˜ê¸°ëŠ” í˜ë“¤ë‹¤. ì‘ë™í•˜ëŠ” ê¹¨ë—í•œ ì½”ë“œë¥¼ ì‘ì„±í•˜ê³  ìë™í™”ëœ í…ŒìŠ¤íŠ¸ë¡œ ì˜ë„ë¥¼ ë“œëŸ¬ë‚´ë©´, íŒ€ì›ë“¤ì´ ë‹¹ì‹ ì„ ì‹ ë¢°í•  ê·¼ê±°ê°€ ìƒê¸´ë‹¤. - [Extreme Programming](https://search.shopping.naver.com/book/catalog/32462920041?query=%EC%9D%B5%EC%8A%A4%ED%8A%B8%EB%A6%BC%20%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D&NaPm=ct%3Dlogau0z4%7Cci%3Dad40e3a142d8176a451c5b857a7c0203e0c75ea5%7Ctr%3Dboksl%7Csn%3D95694%7Chk%3D96214089973d876791cf7823a66c205a3717c0b0)

í…ŒìŠ¤íŠ¸ë¥¼ ë¨¼ì € ì‘ì„±í•˜ëŠ” ê²ƒì€ ì–´ìƒ‰í•˜ê³  ì´ìƒí•  ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ, í…ŒìŠ¤íŠ¸ë¥¼ ë¨¼ì € ì‘ì„±í•¨ìœ¼ë¡œì¨ í•¨ê»˜í•˜ëŠ” íŒ€ì›ë“¤ê³¼ ì‚¬ìš©ìì—ê²Œ ì‹ ë¢°ë¥¼ ì–»ì„ ìˆ˜ ìˆìœ¼ë¯€ë¡œ, TDDë¥¼ í™œìš©í•˜ëŠ” ê²ƒë„ ì¢‹ì€ ì„ íƒì´ ë  ê²ƒì´ë‹¤.
